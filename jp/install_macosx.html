<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
 <meta name="keywords" content="OpenHRP,OpenHRP3,ロボット,robot,分散コンポーネント型ロボットシミュレータ,Distributed component type robot simulator,corba"> 
 <meta name="description" content="OpenHRP official site"> 

 <title>MacOS X(10.5)におけるOpenHRP3のインストール(Ver.3.0.8)</title>

 <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 <meta http-equiv="content-style-type" content="text/css">
 <meta http-equiv="content-script-type" content="text/javascript">

 <link rel="stylesheet" href="../style/default.css" type="text/css" media="screen" charset="UTF-8" />
 <link rel="stylesheet" href="../style/greybox/greybox.css" type="text/css" media="all" charset="UTF-8" />
 <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

</head>

<body>

<div id="header">

 <a href="../index.html">
  <img id="logo" src="../image/openhrp3banner.jpg" width="200" height="94" alt="OpenHRP3" title="OpenHRP3" />
 </a>

   <h1 class="title">MacOS X(10.5)におけるOpenHRP3のインストール(Ver.3.0.8)</h1><br>
   <div align="right"><a href="../en/index.html">English &gt;&gt;</a></div>
</div>


<div id="navigator"> 
<hr class="full_hr" /></div>


<div id="contents">
<table class="contents" width="100%" border="0" cellspacing="0" cellpadding="0">
 <tr>
  <td class="ltable" valign="top"><div id="menubar">

   <h2 id="h2_content_1">基本情報</h2>
    <ul class="menu">
     <li><a href="../jp/index.html">ホーム（お知らせ）</a></li>
     <li><a href="../jp/about.html">OpenHRP3とは</a></li>
     <li><a href="../jp/download.html">ダウンロード</a></li>
    </ul>

   <h2 id="h2_content_2">ドキュメント</h2>
    <ul class="menu">
     <li><a href="../jp/install.html">インストール<br>(Ver.3.1.4)</a></li>
     <li><a href="../jp/install_3_0.html">インストール<br>(Ver.3.0.8)</a></li>
     <li><a href="../jp/users_manual.html">ユーザーズマニュアル<br>(Ver.3.1.4)</a></li>
     <li><a href="../jp/users_manual_3_0.html">ユーザーズマニュアル<br>(Ver.3.0.8)</a></li>
     <li><a href="../jp/programming.html">プログラミングマニュアル</a></li>
     <li><a href="../jp/UT_DynamicsSimulator.pdf">力学計算アルゴリズム</a></li>
     <li><a href="../jp/reference_manuals.html">リファレンスマニュアル</a></li>
    </ul>

   <h2 id="h2_content_3">補足情報</h2>
    <ul class="menu">
     <li><a href="../jp/samples.html">サンプル動画</a></li>
     <li><a href="../jp/tips.html">Tips</a></li>
     <li><a href="../jp/troubleshooting.html">Troubleshooting<br>(Ver.3.1)</a></li>
     <li><a href="../jp/troubleshooting_3_0.html">Troubleshooting<br>(Ver.3.0)</a></li>
     <li>既知の不具合</li>
     <!--<li><a href="../jp/known_bugs.html">既知の不具合</a></li>-->
     <li><a href="../jp/papers.html">発表論文</a></li>
    </ul>

   <h2 id="h2_content_4">サポート</h2>
    <ul class="menu">
     <li><a href="../jp/forum.html">質問用掲示板</a></li>
     <li>講習会情報</li>
     <!--<li><a href="../jp/workshop.html">講習会情報</a></li>-->
    </ul>

    
   <h2 id="h2_content_5">リンク</h2>
    <ul class="menu">
     <li><a href="http://www.openrtm.org/openrtm/" target="_blank">OpenRTM-aist</a></li>
     <li><a href="http://www.choreonoid.org">Choreonoid</a></li>
     <li><a href="https://github.com/fkanehiro/hrpsys-base">hrpsys-base</a></li>
     <li><a href="http://unit.aist.go.jp/is/humanoid/hrp-4c/hrp-4c.html" target="_blank">HRP-4Cモデル</a></li>
     <li><a href="http://code.google.com/p/rtm-ros-robotics/" target="_blank">RTM-ROS 相互運用プロジェクト</a></li>
     <!--<li><a href="http://www.is.aist.go.jp/humanoid/openhrp/Japanese/" target="_blank">旧バージョン(OpenHRP2)</a></li>-->
    </ul>
    
    <h2 id="h2_content_6">HP ログ</h2></li>
    <ul class="menu">
     <li><a href="../jp/old_versions.html">OpenHRP3 他バージョン</a></li>
    </ul>


</div></td>

  <td class="ctable" valign="top">

   <div id="body">


<p>
MacOS Xの場合、本ページの手順に従うことにより、
OpenHRP3をインストールすることができます。
現在のところ、MacOS X のバージョン10.5においてこの方法を用いることができます。
なお、インストールの際にはターミナルからのコマンドライン入力を使用しますが、ターミナルは
Finderの「Macintosh HD」-「アプリケーション」-「ユーティリティ」-「ターミナル」などから起動できます。
ソフトウェアのインストールには、Mac OSのパッケージマネージャーである
<a href="http://www.macports.org" target="_blank">macports</a>を使います。
</p>

<h2>MacOS 開発環境のインストール</h2>

Mac OSの開発環境xcodeをインストールしていない場合は、まずこれをインストールします。

<h2>MacOS X版OpenRTMのインストール</h2>
  <p>
<a href="http://staff.aist.go.jp/yosuke.matsusaka/openrtm.html" target="_blank">産総研松坂さんのページ</a>を参考にして、MacOS X版のOpenRTMをインストールします。現時点ではOpenRTMはOmniORB Ver.4.0.xで稼働し、MacPortsのサイトにあるのはVer.4.1ですが、松阪さんのパッケージに
Ver.4.0.xも含まれています。
  </p>

<h2>openrtm-macportsパッケージのインストール</h2>
<a href="../download/openhrp-macports.tar.gz">こちら</a>から
openhrp-macportsのパッケージをダウンロードします。
以下のようにして適当なディレクトリにopenhrp-macportsのパッケージを展開します。
<p>
<pre>
$ cd (展開したいディレクトリ)
$ tar zxvf （ダウンロードしたディレクトリ）/openhrp-macports.tar.gz
</pre>

macportsの設定ファイル（/opt/local/etc/macports/sources.conf）をテキストエディタで開き、最後の以下の行を追加します。
<pre>
file:///(先ほど展開したディレクトリ)/openhrp-macports
</pre>
</p>

<h2>Java Media Framework (JMF)</h2>

<p>
JMFはMacPortsに準備されていないので、
<a href="http://java.sun.com/products/java-media/jmf/" target="_blank">http://java.sun.com/products/java-media/jmf/</a>
の"Downloads"より、JMFのjava版をダウンロードします。
Linux/Windows/Solaris等のどのプラットフォームのページでも良いので開き、all java版をダウンロードします。
portコマンドを使ってインストールするため、ダウンロードしたファイルを以下の場所に移動しておきます。
</p>

<p>
<pre>
$ sudo mkdir /opt/local/var/macports/distfiles/JMF
$ sudo mv (ダウンロード先)/jmf-2_1_1e-alljava.zip /opt/local/var/macports/distfiles/JMF/
</pre>
</p>

<h2>boost, jython, CLAPACK, tvmet, JMFのインストール</h2>

<p>
portコマンドを使ってOpenHRP3のインストールに必要なboost, jython, CLAPACK, tvmet, JMFをインストールします。
<pre>
$ sudo port -v install boost jython CLAPACK tvmet JMF
</pre>
</p>

<h2>OpenHRP3 ソースパッケージの展開</h2>

<p>
ダウンロードしたOpenHRP-xxx.zipのソースパッケージを展開します.
(xxxは3.0.0-RC4といったバージョンを示す文字列が入ります。
 ダウンロードしたファイルのものと置き換えて読んでください。)

</p>

<p>
OpenHRP3ソースの展開先はどこでも構いませんが、ここではホームディレクトリの
OpenHRPディレクトリ以下に展開する例を示します。
ターミナルを起動して、以下のコマンドを入力してください.
</p>

<p>
<pre>
$ cd 
$ mkdir OpenHRP
$ cd OpenHRP
$ unzip (ソースパッケージダウンロード先)/OpenHRP-xxx.zip 
</pre>

以上の操作でホームディレクトリのOpenHRPディレクトリ以下に、
OpenHRP3のソースが展開されたOpenHRP-xxxというディレクトリができます。

<h2>コンパイルの準備</h2>

<p>
OpenHRP3では、コンパイルのための設定を
ソースディレクトリ中の "Make.vars" というファイルで行います。
このファイルの設定に関する詳しい説明は
<a href="./howtomake.html">「MakeコマンドによるOpenHRPのコンパイル」</a>のページにありますが、
ここでは本ページのインストール手順に合わせてあらかじめ設定されたファイルを用いることとします。
</p>

<p>
まず、OpenHRP3のソースディレクトリへ移動します。
</p>
<pre>
$ cd ~/OpenHRP/OpenHRP-xxx
</pre>
<p>
ここで、以下のコピー操作により、設定ファイル"Make.vars"を作成します。
<pre>
$ cp Make.vars.macosx Make.vars
</pre>
</p>

<h2>OpenHRP3 のコンパイル</h2>

OpenHRP3 のソースディレクトリより、make コマンドを実行します。

<pre>
$ make
</pre>

<p>
本ページの手順により、必要なソフトウェアのインストールとMake.varsの設定が正しく行われていれば、
OpenHRP3 の実行ファイル・スクリプトが生成されます。
</p>

<p>
コンパイルが終了したら、<a href="./simulate_sample_3_0.html">サンプルシミュレーションの実行</a>
を行って、正常にコンパイルできていることを確認してください.
</p>

    






</div>
  </td>
 </tr>
</table>
</div>



<hr class="full_hr" />



<div id="footer">
<table id="footertable" border="0" cellspacing="0" cellpadding="0">
<tr>
 <td id="footerctable"><div id="sigunature">
  Administrator: OpenHRP Team, Humanoid Resarch Group, Intelligent Systems Research Institute, AIST
 </div></td>
</tr>
</table>
</div>

</body>
</html>
