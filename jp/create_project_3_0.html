<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">

<html>

<head>
 <meta name="keywords" content="OpenHRP,OpenHRP3,ロボット,robot,分散コンポーネント型ロボットシミュレータ,Distributed component type robot simulator,corba"> 
 <meta name="description" content="OpenHRP official site"> 

 <title>プロジェクトの作成(Ver.3.0.7)</title>

 <meta http-equiv="content-type" content="text/html; charset=UTF-8">
 <meta http-equiv="content-style-type" content="text/css">
 <meta http-equiv="content-script-type" content="text/javascript">

 <link rel="stylesheet" href="../style/default.css" type="text/css" media="screen" charset="UTF-8" />
 <link rel="stylesheet" href="../style/greybox/greybox.css" type="text/css" media="all" charset="UTF-8" />
 <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />

</head>

<body>

<div id="header">

 <a href="../index.html">
  <img id="logo" src="../image/openhrp3banner.jpg" width="200" height="94" alt="OpenHRP3" title="OpenHRP3" />
 </a>

   <h1 class="title">プロジェクトの作成(Ver.3.0.7)</h1><br>
   <div align="right"><a href="../en/index.html">English &gt;&gt;</a></div>
</div>


<div id="navigator"> 
<hr class="full_hr" /></div>


<div id="contents">
<table class="contents" width="100%" border="0" cellspacing="0" cellpadding="0">
 <tr>
  <td class="ltable" valign="top"><div id="menubar">

   <h2 id="h2_content_1">基本情報</h2>
    <ul class="menu">
     <li><a href="../jp/index.html">ホーム（お知らせ）</a></li>
     <li><a href="../jp/about.html">OpenHRP3とは</a></li>
     <li><a href="../jp/download.html">ダウンロード</a></li>
    </ul>

   <h2 id="h2_content_2">ドキュメント</h2>
    <ul class="menu">
     <li><a href="../jp/install.html">インストール<br>(Ver.3.1.4)</a></li>
     <li><a href="../jp/install_3_0.html">インストール<br>(Ver.3.0.8)</a></li>
     <li><a href="../jp/users_manual.html">ユーザーズマニュアル<br>(Ver.3.1.4)</a></li>
     <li><a href="../jp/users_manual_3_0.html">ユーザーズマニュアル<br>(Ver.3.0.8)</a></li>
     <li><a href="../jp/programming.html">プログラミングマニュアル</a></li>
     <li><a href="../jp/UT_DynamicsSimulator.pdf">力学計算アルゴリズム</a></li>
     <li><a href="../jp/reference_manuals.html">リファレンスマニュアル</a></li>
    </ul>

   <h2 id="h2_content_3">補足情報</h2>
    <ul class="menu">
     <li><a href="../jp/samples.html">サンプル動画</a></li>
     <li><a href="../jp/tips.html">Tips</a></li>
     <li><a href="../jp/troubleshooting.html">Troubleshooting<br>(Ver.3.1)</a></li>
     <li><a href="../jp/troubleshooting_3_0.html">Troubleshooting<br>(Ver.3.0)</a></li>
     <li>既知の不具合</li>
     <!--<li><a href="../jp/known_bugs.html">既知の不具合</a></li>-->
     <li><a href="../jp/papers.html">発表論文</a></li>
    </ul>

   <h2 id="h2_content_4">サポート</h2>
    <ul class="menu">
     <li><a href="../jp/forum.html">質問用掲示板</a></li>
     <li>講習会情報</li>
     <!--<li><a href="../jp/workshop.html">講習会情報</a></li>-->
    </ul>

    
   <h2 id="h2_content_5">リンク</h2>
    <ul class="menu">
     <li><a href="http://www.openrtm.org/openrtm/" target="_blank">OpenRTM-aist</a></li>
     <li><a href="http://www.choreonoid.org">Choreonoid</a></li>
     <li><a href="https://github.com/fkanehiro/hrpsys-base">hrpsys-base</a></li>
     <li><a href="http://unit.aist.go.jp/is/humanoid/hrp-4c/hrp-4c.html" target="_blank">HRP-4Cモデル</a></li>
     <li><a href="http://code.google.com/p/rtm-ros-robotics/" target="_blank">RTM-ROS 相互運用プロジェクト</a></li>
     <!--<li><a href="http://www.is.aist.go.jp/humanoid/openhrp/Japanese/" target="_blank">旧バージョン(OpenHRP2)</a></li>-->
    </ul>
    
    <h2 id="h2_content_6">HP ログ</h2></li>
    <ul class="menu">
     <li><a href="../jp/old_versions.html">OpenHRP3 他バージョン</a></li>
    </ul>


</div></td>

  <td class="ctable" valign="top">

   <div id="body">


<h2> プロジェクト </h2>
<p>
プロジェクトはGrxUIを使用して作成します。まず<a href="grxui_tutorial_3_0.html#2">GrxUIを起動</a>してください。
</p>
<h3> モデル </h3>
<p>
ロボットの歩行シミュレーションを扱うため、ロボットと床をロードします。<br>
Item ViewリストにあるModelを右クリックし、Loadを選んでください。<br>
OpenHRP3/etc フォールダーにあるfloor.wrlとsample.wrlをロードします。<br>
floorを右クリックし、change into environment modelを選んで、環境モデルとします。
</p>
<p>
次にロボットの初期姿勢をあたえます。モデルsampleのPropertyを図1のように設定します。<br>
表１では入力値を明示します。
</p>
<p>
<center>
<img src="../img_new/um_3_0/GrxUI_EditProperty.png"><br>
図1: Property 編集手順
</center>
</p>
<p align="center">
表1: Sample robot property<br>
<table align="center" border="1">
<tr><td>CHEST.angle</td><td>0.0</td></tr>
<tr><td>LARM_ELBOW.angle</td><td>-1.5708</td></tr>
<tr><td>LARM_SHOULDER_P.angle</td><td>0.174533</td></tr>
<tr><td>LARM_SHOULDER_R.angle</td><td>-0.003490</td></tr>
<tr><td>LARM_SHOULDER_Y.angle</td><td>0.0</td></tr>
<tr><td>LARM_WRIST_P.angle</td><td>0.0</td></tr>
<tr><td>LARM_WRIST_R.angle</td><td>0.0</td></tr>
<tr><td>LARM_WRIST_Y.angle</td><td>0.0</td></tr>
<tr><td>LLEG_ANKLE_P.angle</td><td>-0.0424675</td></tr>
<tr><td>LLEG_ANKLE_R.angle</td><td>0.0</td></tr>
<tr><td>LLEG_HIP_P.angle</td><td>-0.0360373</td></tr>
<tr><td>LLEG_HIP_R.angle</td><td>0.0</td></tr>
<tr><td>LLEG_HIP_Y.angle</td><td>0.0</td></tr>
<tr><td>LLEG_KNEE.angle</td><td>0.0785047</td></tr>
<tr><td>RARM_ELBOW.angle</td><td>-1.5708</td></tr>
<tr><td>RARM_SHOULDER_P.angle</td><td>0.174533</td></tr>
<tr><td>RARM_SHOULDER_R.angle</td><td>-0.003490</td></tr>
<tr><td>RARM_SHOULDER_Y.angle</td><td>0.0</td></tr>
<tr><td>RARM_WRIST_P.angle</td><td>0.0</td></tr>
<tr><td>RARM_WRIST_R.angle</td><td>0.0</td></tr>
<tr><td>RARM_WRIST_Y.angle</td><td>0.0</td></tr>
<tr><td>RLEG_ANKLE_P.angle</td><td>-0.0424675</td></tr>
<tr><td>RLEG_ANKLE_R.angle</td><td>0.0</td></tr>
<tr><td>RLEG_HIP_P.angle</td><td>-0.0360373</td></tr>
<tr><td>RLEG_HIP_R.angle</td><td>0.0</td></tr>
<tr><td>RLEG_HIP_Y.angle</td><td>0.0</td></tr>
<tr><td>RLEG_KNEE.angle</td><td>0.0785047</td></tr>
<tr><td>WAIST.rotation</td><td>0.0 1.0 0.0 0.0</td></tr>
<tr><td>WAIST.translation</td><td>0.0 0.0 0.713</td></tr>
<tr><td>WAIST_P.angle</td><td>0.0</td></tr>
<tr><td>WAIST_R.angle</td><td>0.0</td></tr>
</table>
</p>

<h3> WorldState </h3>
<p>
ここでは、WorldStateを作成しパラメータを与えます。<br>
Item ViewリストにあるWorldStateを右クリックし、createを選んでください。
</p>
<p align="center">
<img src="../img_new/um_3_0/GrxUI_CreateWorldState.png"><br>
図2: WorldState
</p>
<p>
OpenHRPタブのsimulationタブで各項目を以下のとおりに設定してください。
</p>
<p align="center">
表2: Simulation Parameters<br>
<table align="center" border="1">
<tr><td>Total Times[s]</td><td>13.4</td></tr>
<tr><td>Integration Step[s]</td><td>0.0020</td></tr>
<tr><td>Logging Step[s]</td><td>0.0020</td></tr>
<tr><td>Integration Method</td><td>RUNGE_KUTTA</td></tr>
<tr><td>Gravity[ms<sup>-2</sup>]</td><td>9.8</td></tr>
</table>
</p>
<p align="center">
<img src="../img_new/um_3_0/GrxUI_SimulationParameters.png"><br>
図3: Simulation Parameters
</p>

<h3> Collision Pair </h3>
<p>
OpenHRPタブの中のcollisionタブを選択し、floor-sample間の干渉チェックが行われるように設定してください。
</p>
<p align="center">
<img src="../img_new/um_3_0/GrxUI_CollisionPairAdd.png"><br>
図4: collisionタブ
</p>
<p>
Addボタンをクリック、Object1はsampleを選択してOKボタンをクリックしてください。
</p>
<p align="center">
<img src="../img_new/um_3_0/GrxUI_InsertCollisionPair.png"><br>
図5: Collision Pair追加
</p>
<h3> コントローラ </h3>
<p>
ここではコントローラの設定を行います。<br>
OpenHRP タブの controller タブに移動し、表３に示すようにコントローラ・パラメータを設定してください。<br>
Controller の 選択項目として SamplePDController が現れない場合は手動で記入してください。
</p>

<p>※　表3 で示している値はあくまでも例であり、自分用のコントローラを作成し使用する場合は
適当にに変更してお使いください。</p>

<p align="center">
表3 : Controller Parameters<br>
<table align="center" border="1">
<tr><td>Controller</td><td>SamplePDController</td></tr>
<tr><td>Control Time[s]</td><td>0.002</td></tr>
<tr><td>Working Dir.</td><td>$(OPENHRPHOME)/Controller/rtc/SamplePD</td></tr>
<tr><td>Setup Command</td><td>SamplePD$(BIN_SFX)</td></tr>
</table>
</p>

<p align="center">
<img src="../img_new/um_3_0/GrxUI_Controller.png"><br>
図6 : Controllerタブ
</p>

<h3 id="startsimulation"> シミュレーション </h3>
<p>
シミュレーションを実行してください。"start simulation"ボタンでシミュレーションを開始しします。
</p>
<p align="center">
<img src="../img_new/um_3_0/GrxUI_StartSimulation.jpg"><br>
図7: シミュレーション開始
</p>

<h3> プロジェクトファイルの保存 </h3>
<p>
生成したプロジェクトを保存するには、メニューから file → Save Project を選択してプロジェクトファイルを保存します。<br>
</p>


    






</div>
  </td>
 </tr>
</table>
</div>



<hr class="full_hr" />



<div id="footer">
<table id="footertable" border="0" cellspacing="0" cellpadding="0">
<tr>
 <td id="footerctable"><div id="sigunature">
  Administrator: OpenHRP Team, Humanoid Resarch Group, Intelligent Systems Research Institute, AIST
 </div></td>
</tr>
</table>
</div>

</body>
</html>
